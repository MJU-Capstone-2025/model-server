# 커피 선물 가격 예측 모델 서버 - 문서

이 문서 디렉토리는 커피 선물 가격 예측 모델 서버와 관련된 설계, 아키텍처, 분석 자료를 포함하고 있습니다.

## 문서 목록

### 주요 문서

| 파일명                                                       | 설명                                                 |
| ------------------------------------------------------------ | ---------------------------------------------------- |
| [DESIGN.md](./DESIGN.md)                                     | 모델 서버의 전체 설계와 아키텍처에 대한 상세 문서    |
| [모델 통합 방안.md](./모델%20통합%20방안.md)                 | LSTM 모델과 감정 분석 모델의 통합 방법론에 대한 문서 |
| [beta-flowchart.drawio.svg](./beta-flowchart.drawio.svg)     | 베타 버전 서버의 흐름도 다이어그램                   |
| [server-flowchart.drawio.svg](./server-flowchart.drawio.svg) | 실시간 서버의 흐름도 다이어그램                      |

## 시스템 아키텍처 개요

모델 서버는 두 가지 주요 버전으로 계획되어 있습니다:

1. **베타 버전**: 과거 데이터를 사용한 고정된 예측 모델

    - 2023/12/31까지의 데이터를 사용하여 학습
    - 8주 단위로 증분 학습과 예측 수행
    - [자세한 흐름도 보기](./beta-flowchart.drawio.svg)

2. **실시간 버전**: 실시간 데이터를 사용한 지속적 학습 모델
    - 실시간 가격, 뉴스, 기후/경제 데이터 자동 수집
    - 병렬 처리를 통한 데이터 수집 및 모델 학습
    - 즉시 응답 제공을 위한 API 최적화
    - [자세한 흐름도 보기](./server-flowchart.drawio.svg)

## 모델링 접근법

시스템은 두 가지 주요 데이터 소스를 활용합니다:

1. **시계열 데이터**:

    - 커피 선물 가격 시계열
    - 기후 데이터
    - 거시경제 지표

2. **텍스트 데이터**:
    - 커피 관련 뉴스 기사
    - 감정 분석 결과

이 두 데이터 소스의 모델을 통합하는 방법론에는 다음과 같은 옵션이 있습니다:

1. **특성 수준 통합**: 감정 분석 결과를 LSTM 모델의 입력 피처로 추가
2. **모델 앙상블**: 별도의 모델들을 학습한 후 결과를 가중 결합
3. **계층적 모델링**: 멀티 레이어 구조로 서로 다른 데이터 소스 통합

자세한 통합 방법론은 [모델 통합 방안](./모델%20통합%20방안.md) 문서를 참조하세요.

## API 서버 구조

서버는 FastAPI 기반의 비동기 API 서버로 설계되어 있으며, 다음과 같은 엔드포인트를 제공합니다:

-   `GET /price/prediction`: 예측된 커피 선물 가격 반환
    -   향후 56일(8주)간의 일별 예측 가격 제공
    -   예측 신뢰도 지표 포함

API 서버의 상세 구조와 확장 계획은 [DESIGN.md](./DESIGN.md) 문서를 참조하세요.
